<html>
<head>
	<title>Cámara de Diputados</title>
	<meta charset="utf-8">
	<style type="text/css">
body{
	margin: 0;
	padding: 0;
}
li h1{
	background-color: lightblue;
}
header{
	box-shadow: 0px 3px 9px 1px rgba(0,0,0,0.75);
}
	</style>
	<style>
table {
    border-collapse: collapse;
    width: 100%;
}

th, td {
    text-align: left;
    padding: 8px;
}

tr:nth-child(even){background-color: white}

th {
    background-color: #4CAF50;
    color: white;
}
table, th, td {
    border: 1px solid black;
}
</style>
</head>
<body style="background-color: lightblue;">
	<header style="height: 150px;">
		<h1 id="top">Diputados</h1>
		257 bancas
		<a href="#provincias">sector</a>
		<a target="_blank" href="http://www.senado.gov.ar/parlamentario/sesiones/enVivo">Sesión en Vivo</a>
		<a target="_blank" href="http://www.diputados.gov.ar/">Página Oficial</a>	
		<a target="_blank" href="https://www.youtube.com/channel/UCStm2uvQKowSXrnCzTWAn6Q">Senadores Youtube Oficial</a>
		<a href="/">Index</a>
	</header>
	<hr>
	<table>
			<tr>
				<th>Partido</th>
				<th>Cantidad de Diputados</th>
			</tr>
			<tbody id="partidos">
			</tbody>
		</table>
	<h2>Presidente: </h2>
	<ol>
		<li>
			<h3>Buenos Aires</h3>
			<ol>
				<li>- Diputado Nacional <a href="">Luis Rodolfo Tailhade</a> <img src=""> <br>
					Partido: Frente para la Victoria - PJ
					<h4>Proyectos:</h4>
					<ul>
						<li>Exclución de De Vido de la cámara || Voto: NEGATIVO</li>
					</ul>
				</li>
				<li>- Diputado Nacional <a href="">Leonardo Grosso</a> <img src=""> <br>
					Partido: Peronismo para la victoria
					<h4>Proyectos:</h4>
					<ul>
						<li>Exclución de De Vido de la cámara || Voto: NEGATIVO</li>
					</ul>
				</li>
			</ol>
		</li>
		<li>
			<h3>Santa Fe</h3>
				<ol>
					<li>- Diputado nacional <a href="miguel_pichetto.html">Marcos Cleri </a> <img src="" /><br> Partido: Frente para la Victoria - PJ
					</li>
					<h4>Proyectos:</h4>
					<ul>
						<li>Exclución de De Vido de la cámara || Voto: NEGATIVO</li>
					</ul>
				</ol>
		</li>
		<li>
			<h3>Córdoba</h3>
			<ol>
				<li>
					- Diputada Nacional <a href="">Blanca Araceli Rossi</a> <img src="">
					<br> Partido: UNIDOS POR UNA NUEVA ARGENTINA 
						Lema: Hay que recuperar el valor de la palabra!!
						Joaquin y Ana abuelos de Jesus Cristo 26 de julio día de los Abuelos
						visto bueno (Y)
					<h4>Proyectos:</h4>
					<ul>
						<li>Exclución de De Vido de la cámara || Voto: NEGATIVO</li>
					</ul>
				</li>
			</ol>
		</li>
		<li>
			<h3>Mendoza</h3>
				<ol>
					<li>- Diputada Nacional <a href="">Graciela Cousinet </a> <img src="" /><br> 
						Partido: Libres del Sur
					</li>
					<h4>Proyectos:</h4>
					<ul>
						<li>Exclución de De Vido de la cámara || Voto: POSITIVO?</li>
					</ul>
				</ol>
		</li>
		<li>
			<h3>Salta</h3>
				<ol>
					<li>- Diputado nacional <a href="">Alfredo Horacio Olmedo </a> <img src="" /><br> 
						Partido: SALTA SOMOS TODOS
						Lema: Prueben Laburando!!
						visto bueno (Y)
					</li>
					<h4>Proyectos:</h4>
					<ul>
						<li>Exclución de De Vido de la cámara || Voto: NEGATIVO</li>
					</ul>
				</ol>
		</li>
	</ol>
	<hr>
	<hr>
	<div id="provincias"><a href="#top">top</a>
		<table>
			<tr>
				<th>id</th>
				<th>Nombre</th>
				<th>Provincia</th>
				<th>asume</th>
				<th>cesa</th>
				<th>Partido</th>
			</tr>
			<tbody id="sector">
			</tbody>
		</table>
	</div>
	<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
	<script type="text/javascript">
	var baseURL = document.location.origin || "https://"+document.domain+":443"
	function getNewXHRObject(){
	  var xhr
	  if (window.XMLHttpRequest) {
	      xhr = new XMLHttpRequest()// code for IE7+, Firefox, Chrome, Opera, Safari
	  } else {
	      xhr = new ActiveXObject("Microsoft.XMLHTTP"); // code for IE6, IE5
	    }
	  return xhr;
	}

	document.addEventListener("DOMContentLoaded", function(){
	  var url = baseURL+"/dpt"
	  var xhr = getNewXHRObject()
	  xhr.open("GET", url, true)
	  xhr.send(null)
	  xhr.onreadystatechange = function() {
	    if (xhr.readyState == XMLHttpRequest.DONE ) {
	       if(xhr.status == 200){
	          var content = xhr.getResponseHeader("Content-Type")
	          if(content == "application/json; charset=utf-8"){
	            var dpt = JSON.parse(xhr.responseText)
	            var sect = document.getElementById("sector")
	             for (i=0; i<dpt.length; i++){
	            	var row = sect.insertRow(i);
	            	row.insertCell(0).innerHTML = (i+1)
	            	row.insertCell(1).innerHTML = dpt[i].name
	            	row.insertCell(2).innerHTML = dpt[i].provincia
	            	row.insertCell(3).innerHTML = dpt[i].asume
	            	row.insertCell(4).innerHTML = dpt[i].cesa
	            	row.insertCell(5).innerHTML = dpt[i].partido
	           	}
	          }else{
	          }  
	        }else if(xhr.status == 400) {
	          alert('There was an error 400')
	        }else {
	          alert('something else other than 200 was returned')
	      }
	    }
	  }
	})
document.addEventListener("DOMContentLoaded", function(){
	  var url = baseURL+"/partidos"
	  var xhr = getNewXHRObject()
	  xhr.open("GET", url, true)
	  xhr.send(null)
	  xhr.onreadystatechange = function() {
	    if (xhr.readyState == XMLHttpRequest.DONE ) {
	       if(xhr.status == 200){
	          var content = xhr.getResponseHeader("Content-Type")
	          if(content == "application/json; charset=utf-8"){
	            var partidos = JSON.parse(xhr.responseText)
	            var sect = document.getElementById("partidos")
	            Object.keys(partidos).forEach(function(k){
	            	var row = sect.insertRow(k);
	            	row.insertCell(0).innerHTML = k
	            	row.insertCell(1).innerHTML = partidos[k]
				});
	          }else{
	          }  
	        }else if(xhr.status == 400) {
	          alert('There was an error 400')
	        }else {
	          alert('something else other than 200 was returned')
	      }
	    }
	  }
	})
// Scroll to specific values
// scrollTo is the same
window.scroll({
  top: 2500, 
  left: 0, 
  behavior: 'smooth' 
});

// Scroll certain amounts from current position 
window.scrollBy({ 
  top: 100, // could be negative value
  left: 0, 
  behavior: 'smooth' 
});

// Select all links with hashes
$('a[href*="#"]')
  // Remove links that don't actually link to anything
  .not('[href="#"]')
  .not('[href="#0"]')
  .click(function(event) {
    // On-page links
    if (
      location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '') 
      && 
      location.hostname == this.hostname
    ) {
      // Figure out element to scroll to
      var target = $(this.hash);
      target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
      // Does a scroll target exist?
      if (target.length) {
        // Only prevent default if animation is actually gonna happen
        event.preventDefault();
        $('html, body').animate({
          scrollTop: target.offset().top-30
        }, 1000, function() {
          // Callback after animation
          // Must change focus!
          var $target = $(target);
          $target.focus();
          if ($target.is(":focus")) { // Checking if the target was focused
            return false;
          } else {
            $target.attr('tabindex','-1'); // Adding tabindex for elements not focusable
            $target.focus(); // Set focus again
          };
        });
      }
    }
  });
	</script>
</body>
</html>